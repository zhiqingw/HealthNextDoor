{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wuzhiqing\\\\Documents\\\\GitHub\\\\info30005_front\\\\src\\\\pages\\\\ToList.js\";\nimport React from \"react\";\nimport { UserExtendedList } from \"./User\";\nimport { acceptReq, updateUser, useUser } from \"../api\";\nimport Loading from \"../components/Loading\";\nimport { Caregiver } from \"./Caregivers\";\nexport default function ToList() {\n  var _this = this;\n\n  var data = sessionStorage.getItem(\"listing\");\n  var dict_data = JSON.parse(data);\n  console.log(data);\n\n  var _useUser = useUser(),\n      loading = _useUser.loading,\n      users = _useUser.users,\n      error = _useUser.error;\n\n  if (loading) {\n    return Loading();\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  var username;\n  username = window.location.pathname;\n  var index;\n  index = username.lastIndexOf('/');\n  var name;\n  name = username.slice(index + 1);\n  var match; //var dict_data;\n\n  /*{users.map(user =>{\n      if(user.username===name){\n          dict_data = user\n      }\n  })}*/\n\n  /* var dict_data = users.map(elem =>{\n       // return  elem.launches+10;\n       if(elem.username===name){\n           return elem;\n       }\n    });*/\n\n  if (dict_data.identity === \"Caregiver\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, \"List\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, users.filter(function (person) {\n      return person.username === name;\n    }).map(function (filteredPerson) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }\n      }, filteredPerson.orderList);\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"List\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderlist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Order List\", dict_data.orderList.map(function (name) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      }, name));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send_req_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"Send List\", dict_data.sentReq.map(function (name) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, name));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"history_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"History List\", dict_data.orderHistory.map(function (name) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, name));\n    })));\n  }\n}\n\nfunction accept(name) {\n  var username;\n  username = window.location.pathname;\n  var index;\n  index = username.lastIndexOf('/');\n  username = username.slice(index + 1);\n  acceptReq({\n    username: username,\n    name: name,\n    state: \"accept\"\n  }); //window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n}","map":{"version":3,"sources":["C:/Users/wuzhiqing/Documents/GitHub/info30005_front/src/pages/ToList.js"],"names":["React","UserExtendedList","acceptReq","updateUser","useUser","Loading","Caregiver","ToList","data","sessionStorage","getItem","dict_data","JSON","parse","console","log","loading","users","error","message","username","window","location","pathname","index","lastIndexOf","name","slice","match","identity","filter","person","map","filteredPerson","orderList","sentReq","orderHistory","accept","state"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {UserExtendedList} from \"./User\";\nimport {acceptReq, updateUser, useUser} from \"../api\";\nimport Loading from \"../components/Loading\";\nimport {Caregiver} from \"./Caregivers\";\n\nexport default function ToList() {\n    var data = sessionStorage.getItem(\"listing\")\n    var dict_data = JSON.parse(data)\n    console.log(data);\n    const { loading, users, error} = useUser();\n    if (loading) {\n        return Loading();\n    }\n    if (error) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    let username;\n    username = window.location.pathname;\n    let index;\n    index = username.lastIndexOf('/');\n    let name;\n    name = username.slice(index+1);\n    let match;\n    //var dict_data;\n    /*{users.map(user =>{\n        if(user.username===name){\n            dict_data = user\n        }\n    })}*/\n   /* var dict_data = users.map(elem =>{\n        // return  elem.launches+10;\n        if(elem.username===name){\n            return elem;\n        }\n\n    });*/\n\n\n    if(dict_data.identity === \"Caregiver\") {\n        return (\n            <div>\n                <h1>List</h1>\n                <div>\n                    {users.filter(person => person.username === name).map(filteredPerson => (\n                        <li>\n                            {filteredPerson.orderList}\n                        </li>\n                    ))}\n                </div>\n            </div>\n        );\n    }else{\n        return (\n            <div>\n                <h1>List</h1>\n                <div className={\"orderlist\"}>\n                Order List\n                {dict_data.orderList.map(name => (\n                    <p>\n                        <button>\n                            {name}\n                        </button>\n                    </p>\n                ))}\n            </div>\n                <div className={\"send_req_list\"}>\n                    Send List\n                    {dict_data.sentReq.map(name => (\n                        <p>\n                            <button>\n                                {name}\n                            </button>\n                        </p>\n                    ))}\n                </div>\n                <div className={\"history_list\"}>\n                    History List\n                    {dict_data.orderHistory.map(name => (\n                        <p>\n                            <button>\n                                {name}\n                            </button>\n                        </p>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction accept(name){\n    let username;\n    username = window.location.pathname;\n    let index;\n    index = username.lastIndexOf('/');\n    username = username.slice(index+1);\n    acceptReq({\n        username: username,\n        name: name,\n        state: \"accept\",\n    });\n    //window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n\n}\n\n"]},"metadata":{},"sourceType":"module"}