{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\wuzhiqing\\\\Desktop\\\\mylibraryapp-frontend-starter (5)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\wuzhiqing\\\\Desktop\\\\mylibraryapp-frontend-starter (5)\\\\src\\\\pages\\\\Authors.js\";\nimport React, { useState } from \"react\";\nimport { useAuthors, updateAuthor, deleteAuthor } from \"../api\";\nimport Button from \"../components/Button\";\nimport Header from \"../components/Header\";\nexport default function Authors() {\n  var _this = this;\n\n  var _useAuthors = useAuthors(),\n      loading = _useAuthors.loading,\n      authors = _useAuthors.authors,\n      error = _useAuthors.error;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 12\n      }\n    }, \"Something went wrong: \", error.message);\n  } // use this to make sure you are getting the right data\n\n\n  console.log(authors); // Display a list of the authors\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, \"Authors List\"), authors.map(function (author) {\n    return /*#__PURE__*/React.createElement(Author, Object.assign({\n      key: author.id\n    }, author, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }));\n  }));\n}\n\nfunction Author(author) {\n  var id = author.id,\n      first_name = author.first_name,\n      last_name = author.last_name;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author author-\".concat(id),\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"(\", id, \") \", first_name, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    onClick: function onClick() {\n      return setShowUpdate(!showUpdate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, showUpdate ? \"-\" : \"+\")), /*#__PURE__*/React.createElement(AuthorExtended, Object.assign({}, author, {\n    showUpdate: showUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction AuthorExtended(props) {\n  var id = props.id,\n      first_name = props.first_name,\n      last_name = props.last_name,\n      showUpdate = props.showUpdate;\n\n  var _useState3 = useState(id),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id_input = _useState4[0],\n      setId = _useState4[1];\n\n  var _useState5 = useState(first_name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      first_input = _useState6[0],\n      setFirstName = _useState6[1];\n\n  var _useState7 = useState(last_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      last_input = _useState8[0],\n      setLastName = _useState8[1];\n\n  function onSubmit() {\n    // call upate author function\n    updateAuthor({\n      id: id_input,\n      first_name: first_input,\n      last_name: last_input\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-expand \".concat(showUpdate ? \"show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"id\",\n    value: id_input,\n    onChange: function onChange(event) {\n      setId(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"first_name\",\n    value: first_input,\n    onChange: function onChange(event) {\n      setFirstName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"last_name\",\n    value: last_input,\n    onChange: function onChange(event) {\n      setLastName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-warning\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-danger\",\n    onClick: function onClick() {\n      return deleteAuthor(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Delete\"));\n}","map":{"version":3,"sources":["C:/Users/wuzhiqing/Desktop/mylibraryapp-frontend-starter (5)/src/pages/Authors.js"],"names":["React","useState","useAuthors","updateAuthor","deleteAuthor","Button","Header","Authors","loading","authors","error","message","console","log","map","author","id","Author","first_name","last_name","showUpdate","setShowUpdate","AuthorExtended","props","id_input","setId","first_input","setFirstName","last_input","setLastName","onSubmit","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useAuthors, updateAuthor, deleteAuthor } from \"../api\";\n\nimport Button from \"../components/Button\";\nimport Header from \"../components/Header\";\n\nexport default function Authors() {\n  const { loading, authors, error } = useAuthors();\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n  if (error) {\n    return <p>Something went wrong: {error.message}</p>;\n  }\n\n  // use this to make sure you are getting the right data\n  console.log(authors);\n\n  // Display a list of the authors\n  return (\n      <div>\n        <Header />\n        <h1>Authors List</h1>\n        {authors.map(author => (\n            <Author key={author.id} {...author} />\n        ))}\n      </div>\n  );\n}\n\nfunction Author(author) {\n  const { id, first_name, last_name } = author;\n  const [showUpdate, setShowUpdate] = useState(false);\n\n  return (\n      <div className={`author author-${id}`} key={id}>\n        <div className=\"info\">\n          ({id}) {first_name}\n          <Button className={\"btn\"} onClick={() => setShowUpdate(!showUpdate)}>\n            {showUpdate ? \"-\" : \"+\"}\n          </Button>\n        </div>\n        <AuthorExtended {...author} showUpdate={showUpdate} />\n      </div>\n  );\n}\n\nfunction AuthorExtended(props) {\n  const { id, first_name, last_name, showUpdate } = props;\n\n  const [id_input, setId] = useState(id);\n  const [first_input, setFirstName] = useState(first_name);\n  const [last_input, setLastName] = useState(last_name);\n\n  function onSubmit() {\n    // call upate author function\n    updateAuthor({\n      id: id_input,\n      first_name: first_input,\n      last_name: last_input\n    });\n  }\n\n  return (\n      <div className={`author-expand ${showUpdate ? \"show\" : \"\"}`}>\n        <form>\n          {/* TODO - add value and onChange properties to inputs */}\n          <input type=\"text\" name=\"id\" value={id_input} onChange = {event => {setId(event.target.value)}} />\n          <input type=\"text\" name=\"first_name\" value={first_input} onChange = {event => {setFirstName(event.target.value)}}/>\n          <input type=\"text\" name=\"last_name\" value={last_input} onChange = {event => {setLastName(event.target.value)}}/>\n          <Button className={\"btn-warning\"} onClick={onSubmit}>\n            Update\n          </Button>\n        </form>\n        <Button className={\"btn-danger\"} onClick={() => deleteAuthor(id)}>\n          Delete\n        </Button>\n      </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}