{"ast":null,"code":"import _slicedToArray from \"/Users/xuexuxu/Desktop/mylibraryapp _front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/xuexuxu/Desktop/mylibraryapp _front/src/pages/Authors.js\";\nimport React, { useState } from \"react\";\nimport { useAuthors, updateAuthor, deleteAuthor } from \"../api\";\nimport Button from \"../components/Button\";\nexport default function Authors() {\n  var _this = this;\n\n  var _useAuthors = useAuthors(),\n      loading = _useAuthors.loading,\n      authors = _useAuthors.authors,\n      error = _useAuthors.error;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 12\n      }\n    }, \"Something went wrong: \", error.message);\n  } // use this to make sure you are getting the right data\n\n\n  console.log(authors); // Display a list of the authors\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, \"Authors List\"), authors.map(function (author) {\n    return /*#__PURE__*/React.createElement(Author, Object.assign({\n      key: author.id\n    }, author, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    }));\n  }));\n}\n\nfunction Author(author) {\n  var id = author.id,\n      first_name = author.first_name,\n      last_name = author.last_name;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author author-\".concat(id),\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"(\", id, \") \", first_name, \" \", last_name, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    onClick: function onClick() {\n      return setShowUpdate(!showUpdate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, showUpdate ? \"-\" : \"+\")), /*#__PURE__*/React.createElement(AuthorExtended, Object.assign({}, author, {\n    showUpdate: showUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  })));\n}\n\nfunction AuthorExtended(props) {\n  var id = props.id,\n      first_name = props.first_name,\n      last_name = props.last_name,\n      showUpdate = props.showUpdate;\n\n  var _useState3 = useState(id),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id_input = _useState4[0],\n      setId = _useState4[1];\n\n  var _useState5 = useState(first_name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      first_input = _useState6[0],\n      setFirstName = _useState6[1];\n\n  var _useState7 = useState(last_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      last_input = _useState8[0],\n      setLastName = _useState8[1];\n\n  function onSubmit() {\n    // call upate author function\n    updateAuthor({\n      id: id_input,\n      first_name: first_input,\n      last_name: last_input\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-expand \".concat(showUpdate ? \"show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"first_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"last_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-warning\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-danger\",\n    onClick: function onClick() {\n      return deleteAuthor(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Delete\"));\n}","map":{"version":3,"sources":["/Users/xuexuxu/Desktop/mylibraryapp _front/src/pages/Authors.js"],"names":["React","useState","useAuthors","updateAuthor","deleteAuthor","Button","Authors","loading","authors","error","message","console","log","map","author","id","Author","first_name","last_name","showUpdate","setShowUpdate","AuthorExtended","props","id_input","setId","first_input","setFirstName","last_input","setLastName","onSubmit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useAuthors, updateAuthor, deleteAuthor } from \"../api\";\n\nimport Button from \"../components/Button\";\n\nexport default function Authors() {\n  const { loading, authors, error } = useAuthors();\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n  if (error) {\n    return <p>Something went wrong: {error.message}</p>;\n  }\n\n  // use this to make sure you are getting the right data\n  console.log(authors);\n\n  // Display a list of the authors\n  return (\n      <div>\n        <h1>Authors List</h1>\n        {authors.map(author => (\n            <Author key={author.id} {...author} />\n            ))}\n      </div> );\n}\n\nfunction Author(author) {\n  const { id, first_name, last_name } = author;\n  const [showUpdate, setShowUpdate] = useState(false);\n\n  return (\n    <div className={`author author-${id}`} key={id}>\n      <div className=\"info\">\n        ({id}) {first_name} {last_name}\n        <Button className={\"btn\"} onClick={() => setShowUpdate(!showUpdate)}>\n          {showUpdate ? \"-\" : \"+\"}\n        </Button>\n      </div>\n      <AuthorExtended {...author} showUpdate={showUpdate} />\n    </div>\n  );\n}\n\nfunction AuthorExtended(props) {\n  const { id, first_name, last_name, showUpdate } = props;\n\n  const [id_input, setId] = useState(id);\n  const [first_input, setFirstName] = useState(first_name);\n  const [last_input, setLastName] = useState(last_name);\n\n  function onSubmit() {\n    // call upate author function\n    updateAuthor({\n       id: id_input,\n       first_name: first_input,\n       last_name: last_input\n     });\n  }\n\n  return (\n    <div className={`author-expand ${showUpdate ? \"show\" : \"\"}`}>\n      <form>\n        {/* TODO - add value and onChange properties to inputs */}\n        <input type=\"text\" name=\"id\" />\n        <input type=\"text\" name=\"first_name\" />\n        <input type=\"text\" name=\"last_name\" />\n        <Button className={\"btn-warning\"} onClick={onSubmit}>\n          Update\n        </Button>\n      </form>\n      <Button className={\"btn-danger\"} onClick={() => deleteAuthor(id)}>\n        Delete\n      </Button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}