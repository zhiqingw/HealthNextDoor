{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\wuzhiqing\\\\Documents\\\\GitHub\\\\info30005_front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\wuzhiqing\\\\Documents\\\\GitHub\\\\info30005_front\\\\src\\\\pages\\\\User.js\";\nimport React, { useState } from \"react\";\nimport { updateUser, useCaregivers, useUser } from \"../api\";\nimport Button from \"../components/Button\";\nimport { Caregiver } from \"./Caregivers\";\nimport Loading from \"../components/Loading\";\nimport ToList from \"../pages/ToList\";\n/*user home page*/\n\nexport default function Users() {\n  var _this = this;\n\n  var _useCaregivers = useCaregivers(),\n      loading = _useCaregivers.loading,\n      caregivers = _useCaregivers.caregivers,\n      error = _useCaregivers.error;\n\n  var _useUser = useUser(),\n      loadings = _useUser.loadings,\n      user = _useUser.user,\n      errors = _useUser.errors;\n\n  if (loading) {\n    return Loading();\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  if (loadings) {\n    return Loading();\n  }\n\n  if (errors) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  var username;\n  username = window.location.pathname;\n  var index;\n  index = username.lastIndexOf('/');\n  var name;\n  name = username.slice(index + 1);\n  var match;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Welcome, \", window.sessionStorage.getItem(\"username\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"htwo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \"Posting Record\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"tryy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, caregivers.map(function (caregiver) {\n    if (caregiver.username === name) {\n      return /*#__PURE__*/React.createElement(Caregiver, Object.assign({\n        key: caregiver.username\n      }, caregiver, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 32\n        }\n      }));\n    } else {\n      return;\n    }\n  })), user.map(function (used) {\n    if (used.username === name) {\n      match = used;\n    }\n  }), /*#__PURE__*/React.createElement(User, Object.assign({\n    id: \"user_h2\"\n  }, match, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })));\n}\n/*log out and redirect to home page*/\n\nexport function Logout() {\n  window.sessionStorage.removeItem(\"username\");\n  window.location.assign('http://localhost:3000');\n}\n/*reset password*/\n\nfunction User(user) {\n  var username = user.username,\n      password = user.password;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user user-\".concat(username),\n    key: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"btn-resetpassword\",\n    onClick: toReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"btn-toList\",\n    onClick: function onClick() {\n      return toList(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"List\")));\n}\n\nexport function UserExtended() {\n  function onSubmit() {\n    var username = window.sessionStorage.getItem(\"username\");\n    var confirmed_password = document.getElementById(\"confirmed_password\");\n    var password = document.getElementById(\"password\");\n\n    if (confirmed_password.value !== password.value) {\n      alert(\"password and confirmed password does not match\");\n    } else {\n      updateUser({\n        username: username,\n        password: password.value\n      });\n      window.location.assign(\"http://localhost:3000/user-management/\".concat(window.sessionStorage.getItem(\"username\")));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset_box\",\n    className: \"login_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    placeholder: \"Password\",\n    className: \"text_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"confirmed_password\",\n    placeholder: \"Confirm password\",\n    className: \"text_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"reset_but\",\n    className: \"login_button\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, \"Update\")));\n}\n/*export function UserExtendedList() {\n\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n\n            updateUserList({\n                username: username,\n\n\n            });\n            window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n\n    }\n\n    return (\n        <div>\n\n        </div>\n    );\n}\n*/\n\nfunction toReset() {\n  window.location.assign(\"http://localhost:3000/resetPassword\");\n}\n\nfunction toList(user) {\n  console.log(user);\n  var string_type = JSON.stringify(user);\n  sessionStorage.setItem(\"listing\", string_type);\n  ToList(string_type);\n  window.location.assign(\"http://localhost:3000/toList/\".concat(window.sessionStorage.getItem(\"username\")));\n  /*return(\n      <div>\n          <ToList {...user}/>\n      </div>\n   );*/\n}\n\nfunction toPatient() {\n  window.location.assign(\"http://localhost:3000/toPatient\");\n}","map":{"version":3,"sources":["C:/Users/wuzhiqing/Documents/GitHub/info30005_front/src/pages/User.js"],"names":["React","useState","updateUser","useCaregivers","useUser","Button","Caregiver","Loading","ToList","Users","loading","caregivers","error","loadings","user","errors","message","username","window","location","pathname","index","lastIndexOf","name","slice","match","sessionStorage","getItem","map","caregiver","used","Logout","removeItem","assign","User","password","showUpdate","setShowUpdate","toReset","toList","UserExtended","onSubmit","confirmed_password","document","getElementById","value","alert","console","log","string_type","JSON","stringify","setItem","toPatient"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,UAAR,EAAoBC,aAApB,EAAmCC,OAAnC,QAAiD,QAAjD;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA;;AACA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAAA,uBACWN,aAAa,EADxB;AAAA,MACpBO,OADoB,kBACpBA,OADoB;AAAA,MACXC,UADW,kBACXA,UADW;AAAA,MACCC,KADD,kBACCA,KADD;;AAAA,iBAEOR,OAAO,EAFd;AAAA,MAEpBS,QAFoB,YAEpBA,QAFoB;AAAA,MAEVC,IAFU,YAEVA,IAFU;AAAA,MAEJC,MAFI,YAEJA,MAFI;;AAG5B,MAAIL,OAAJ,EAAa;AACT,WAAOH,OAAO,EAAd;AACH;;AACD,MAAIK,KAAJ,EAAW;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA0BA,KAAK,CAACI,OAAhC,CAAP;AACH;;AACD,MAAIH,QAAJ,EAAc;AACV,WAAON,OAAO,EAAd;AACH;;AACD,MAAIQ,MAAJ,EAAY;AACR,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA0BH,KAAK,CAACI,OAAhC,CAAP;AACH;;AACD,MAAIC,QAAJ;AACAA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA3B;AACA,MAAIC,KAAJ;AACAA,EAAAA,KAAK,GAAGJ,QAAQ,CAACK,WAAT,CAAqB,GAArB,CAAR;AACA,MAAIC,IAAJ;AACAA,EAAAA,IAAI,GAAGN,QAAQ,CAACO,KAAT,CAAeH,KAAK,GAAC,CAArB,CAAP;AACA,MAAII,KAAJ;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAcP,MAAM,CAACQ,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAd,CADJ,eAEI;AAAK,IAAA,EAAE,EAAE,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CAFJ,eAMI;AAAK,IAAA,EAAE,EAAE,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKhB,UAAU,CAACiB,GAAX,CAAe,UAAAC,SAAS,EAAG;AACxB,QAAGA,SAAS,CAACZ,QAAV,KAAqBM,IAAxB,EAA6B;AACzB,0BAAO,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAEM,SAAS,CAACZ;AAA1B,SAAwCY,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACH,KAFD,MAGI;AACA;AACH;AACJ,GAPA,CADL,CANJ,EAgBKf,IAAI,CAACc,GAAL,CAAS,UAAAE,IAAI,EAAG;AACb,QAAGA,IAAI,CAACb,QAAL,KAAgBM,IAAnB,EAAwB;AACpBE,MAAAA,KAAK,GAAGK,IAAR;AACH;AACJ,GAJA,CAhBL,eAqBI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AAAV,KAAyBL,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KArBJ,CADJ;AAyBH;AAED;;AACA,OAAO,SAASM,MAAT,GAAiB;AACpBb,EAAAA,MAAM,CAACQ,cAAP,CAAsBM,UAAtB,CAAiC,UAAjC;AACAd,EAAAA,MAAM,CAACC,QAAP,CAAgBc,MAAhB,CAAuB,uBAAvB;AACH;AAED;;AACA,SAASC,IAAT,CAAcpB,IAAd,EAAoB;AAAA,MACTG,QADS,GACaH,IADb,CACTG,QADS;AAAA,MACCkB,QADD,GACarB,IADb,CACCqB,QADD;;AAAA,kBAEoBlC,QAAQ,CAAC,KAAD,CAF5B;AAAA;AAAA,MAETmC,UAFS;AAAA,MAEGC,aAFH;;AAIhB,sBACI;AAAK,IAAA,SAAS,sBAAepB,QAAf,CAAd;AAAyC,IAAA,GAAG,EAAEA,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,EAAE,EAAE,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAE,mBAAZ;AAAiC,IAAA,OAAO,EAAEqB,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAKI,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAE,YAAZ;AAA0B,IAAA,OAAO,EAAE;AAAA,aAAMC,MAAM,CAACzB,IAAD,CAAZ;AAAA,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,CADJ,CADJ;AAgBH;;AAED,OAAO,SAAS0B,YAAT,GAAwB;AAC3B,WAASC,QAAT,GAAoB;AAChB,QAAIxB,QAAQ,GAAGC,MAAM,CAACQ,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAf;AACA,QAAIe,kBAAkB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAAzB;AACA,QAAIT,QAAQ,GAAGQ,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAf;;AACA,QAAGF,kBAAkB,CAACG,KAAnB,KAA6BV,QAAQ,CAACU,KAAzC,EAA+C;AAC3CC,MAAAA,KAAK,CAAC,gDAAD,CAAL;AACH,KAFD,MAEK;AACD5C,MAAAA,UAAU,CAAC;AACPe,QAAAA,QAAQ,EAAEA,QADH;AAEPkB,QAAAA,QAAQ,EAAEA,QAAQ,CAACU;AAFZ,OAAD,CAAV;AAIA3B,MAAAA,MAAM,CAACC,QAAP,CAAgBc,MAAhB,iDAAgEf,MAAM,CAACQ,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAhE;AACH;AACJ;;AAED,sBACQ;AAAK,IAAA,EAAE,EAAE,WAAT;AAAsB,IAAA,SAAS,EAAE,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,EAAE,EAAC,UAA1B;AAAqC,IAAA,WAAW,EAAC,UAAjD;AAA4D,IAAA,SAAS,EAAC,YAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,EAAE,EAAC,oBAA1B;AAA+C,IAAA,WAAW,EAAC,kBAA3D;AAA6E,IAAA,SAAS,EAAC,YAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAE,WAAZ;AAAyB,IAAA,SAAS,EAAE,cAApC;AAAoD,IAAA,OAAO,EAAEc,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CATJ,CADR;AAiBH;AAED;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAASH,OAAT,GAAmB;AACfpB,EAAAA,MAAM,CAACC,QAAP,CAAgBc,MAAhB,CAAuB,qCAAvB;AACH;;AAED,SAASM,MAAT,CAAgBzB,IAAhB,EAAqB;AACjBiC,EAAAA,OAAO,CAACC,GAAR,CAAYlC,IAAZ;AACA,MAAImC,WAAW,GAAGC,IAAI,CAACC,SAAL,CAAerC,IAAf,CAAlB;AACAY,EAAAA,cAAc,CAAC0B,OAAf,CAAuB,SAAvB,EAAiCH,WAAjC;AACAzC,EAAAA,MAAM,CAACyC,WAAD,CAAN;AACA/B,EAAAA,MAAM,CAACC,QAAP,CAAgBc,MAAhB,wCAAuDf,MAAM,CAACQ,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAvD;AACA;;;;;AAMH;;AACD,SAAS0B,SAAT,GAAoB;AAChBnC,EAAAA,MAAM,CAACC,QAAP,CAAgBc,MAAhB,CAAuB,iCAAvB;AAEH","sourcesContent":["import React, { useState } from \"react\";\nimport {updateUser, useCaregivers, useUser} from \"../api\";\nimport Button from \"../components/Button\";\nimport {Caregiver} from \"./Caregivers\";\nimport Loading from \"../components/Loading\";\nimport ToList from \"../pages/ToList\"\n/*user home page*/\nexport default function Users() {\n    const { loading, caregivers, error } = useCaregivers();\n    const { loadings, user, errors } = useUser();\n    if (loading) {\n        return Loading();\n    }\n    if (error) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    if (loadings) {\n        return Loading();\n    }\n    if (errors) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    let username;\n    username = window.location.pathname;\n    let index;\n    index = username.lastIndexOf('/');\n    let name;\n    name = username.slice(index+1);\n    let match;\n\n    return (\n        <div>\n            <h1>Welcome, {window.sessionStorage.getItem(\"username\")}</h1>\n            <div id={\"htwo\"}>\n                <h2>Posting Record</h2>\n            </div>\n\n            <div id={\"tryy\"}>\n                {caregivers.map(caregiver =>{\n                    if(caregiver.username===name){\n                        return <Caregiver key={caregiver.username} {...caregiver} />\n                    }\n                    else{\n                        return\n                    }\n                })}\n            </div>\n            {user.map(used =>{\n                if(used.username===name){\n                    match = used;\n                }\n            })}\n            <User id={\"user_h2\"} {...match} />\n        </div>\n    );\n}\n\n/*log out and redirect to home page*/\nexport function Logout(){\n    window.sessionStorage.removeItem(\"username\");\n    window.location.assign('http://localhost:3000')\n}\n\n/*reset password*/\nfunction User(user) {\n    const {username, password} = user;\n    const [showUpdate, setShowUpdate] = useState(false);\n\n    return (\n        <div className={`user user-${username}`} key={username}>\n            <div id={\"reset\"}>\n                <Button id={\"btn-resetpassword\"} onClick={toReset}>\n                    Reset Password\n                </Button>\n\n                <Button id={\"btn-toList\"} onClick={() => toList(user)}>\n                List\n                </Button>\n            </div>\n\n            </div>\n\n\n    );\n}\n\nexport function UserExtended() {\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n        var confirmed_password = document.getElementById(\"confirmed_password\");\n        var password = document.getElementById(\"password\");\n        if(confirmed_password.value !== password.value){\n            alert(\"password and confirmed password does not match\");\n        }else{\n            updateUser({\n                username: username,\n                password: password.value,\n            });\n            window.location.assign(`http://localhost:3000/user-management/${window.sessionStorage.getItem(\"username\")}`)\n        }\n    }\n\n    return (\n            <div id={\"reset_box\"} className={\"login_box\"}>\n                <div id=\"reset_info\">\n                    <div>\n                        <input type=\"password\" id=\"password\" placeholder=\"Password\" className=\"text_field\"/>\n                    </div>\n                    <div>\n                        <input type=\"password\" id=\"confirmed_password\" placeholder=\"Confirm password\"className=\"text_field\"/>\n                    </div>\n                </div>\n                <div>\n                    <Button id={\"reset_but\"} className={\"login_button\"} onClick={onSubmit}>\n                        Update\n                    </Button>\n                </div>\n            </div>\n    );\n}\n\n/*export function UserExtendedList() {\n\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n\n            updateUserList({\n                username: username,\n\n\n            });\n            window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n\n    }\n\n    return (\n        <div>\n\n        </div>\n    );\n}\n*/\nfunction toReset() {\n    window.location.assign(\"http://localhost:3000/resetPassword\")\n}\n\nfunction toList(user){\n    console.log(user);\n    var string_type = JSON.stringify(user);\n    sessionStorage.setItem(\"listing\",string_type);\n    ToList(string_type);\n    window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n    /*return(\n        <div>\n            <ToList {...user}/>\n        </div>\n\n    );*/\n}\nfunction toPatient(){\n    window.location.assign(\"http://localhost:3000/toPatient\")\n\n}"]},"metadata":{},"sourceType":"module"}