{"ast":null,"code":"import _slicedToArray from \"/Users/xuexuxu/Desktop/info30005_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\"; // TODO - update this to be your url\n\nvar BASE_URL = \"https://healthnextdoortest.herokuapp.com\";\n/*login check used to validate the input with data from the database and let the user log in*/\n\nexport function loginCheck(username, password) {\n  if (!username) {\n    alert(\"must include a username\");\n    return;\n  }\n\n  if (!password) {\n    alert(\"must include password\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/login\"; // return fetch query to update an author\n\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(function (res) {\n    if (res.ok) {\n      window.sessionStorage.setItem(\"username\", username);\n      window.location.assign(\"user-management/\".concat(username));\n    } else {\n      alert(\"wrong password or username\");\n    }\n  });\n}\n/*sign up check used to validate the input and let the user sign up*/\n\nexport function signupCheck(username, password, confirmed_password) {\n  if (username.value) {\n    alert(\"please input a username!\");\n  } else if (password.value) {\n    alert(\"please input a password!\");\n  } else if (confirmed_password.value) {\n    alert(\"please confirm your password!\");\n  } else if (password.value !== confirmed_password.value) {\n    alert(\"password and confirmed password does not match\");\n  }\n\n  var endpoint = BASE_URL + \"/signup\";\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(function (res) {\n    if (res.ok) {\n      window.sessionStorage.setItem(\"username\", username);\n      window.location.href = \"user-management/\".concat(username);\n    } else {\n      alert(\"This username has already been taken!\");\n      window.location.href = \"SignUp/\";\n    }\n  });\n}\nexport function updateUser(user) {\n  var username = user.username,\n      password = user.password;\n\n  if (!password) {\n    alert(\"must include a password\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/login/\".concat(username); // return fetch query\n\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }); //.then(res => location.reload());\n}\nexport function getUser() {\n  var endpoint = BASE_URL + \"/login\";\n  return fetch(endpoint).then(function (res) {\n    console.log(res);\n    return res.json();\n  });\n}\nexport function useUser() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    getUser().then(function (user) {\n      setUser(user);\n      setLoading(false);\n    }).catch(function (e) {\n      console.log(e);\n      setError(e);\n      setLoading(false);\n    });\n  }, []);\n  return {\n    loading,\n    user,\n    error\n  };\n}\n\nfunction getCaregivers() {\n  var endpoint = BASE_URL + \"/findCaregiver\"; // TODO\n  // return fetch call that gets caregivers list\n\n  return fetch(endpoint).then(function (res) {\n    console.log(res);\n    return res.json();\n  });\n}\n/*addCaregiver used to let user to make a post*/\n\n\nexport function addCaregiver(caregiver) {\n  var first_name = caregiver.first_name,\n      last_name = caregiver.last_name,\n      gender = caregiver.gender,\n      introduction = caregiver.introduction,\n      username = caregiver.username;\n\n  if (!gender || !first_name || !last_name || !introduction || !username) {\n    alert(\"must include all fields\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/findCaregiver/\";\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      first_name,\n      last_name,\n      gender,\n      introduction,\n      username\n    })\n  }).then(function (res) {\n    if (res.ok) {\n      window.location.href = \"user-management/\".concat(username);\n    } else {\n      alert(\"You already have a post, please update or delete the existed post in user home page!\");\n    }\n  });\n}\n/*updataeCarever used to let user to update post*/\n\nexport function updateCaregiver(caregiver) {\n  var first_name = caregiver.first_name,\n      last_name = caregiver.last_name,\n      gender = caregiver.gender,\n      introduction = caregiver.introduction,\n      username = caregiver.username;\n\n  if (!username) {\n    alert(\"must include a username\");\n    return;\n  }\n\n  if (!first_name || !last_name) {\n    alert(\"must include a first name or last name to update\");\n    return;\n  }\n\n  if (!gender) {\n    alert(\"must include gender\");\n    return;\n  }\n\n  if (!introduction) {\n    alert(\"must include an introduction\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/findCaregiver/\".concat(username); // return fetch query to update an author\n\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      first_name,\n      last_name,\n      gender,\n      introduction,\n      username\n    })\n  });\n}\nexport function deleteCaregiver(username) {\n  var endpoint = BASE_URL + \"/findCaregiver/\".concat(username);\n  return fetch(endpoint, {\n    method: \"DELETE\"\n  });\n}\nexport function useCaregivers() {\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      caregivers = _useState10[0],\n      setCaregivers = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      error = _useState12[0],\n      setError = _useState12[1];\n\n  useEffect(function () {\n    getCaregivers().then(function (caregivers) {\n      setCaregivers(caregivers);\n      setLoading(false);\n    }).catch(function (e) {\n      console.log(e);\n      setError(e);\n      setLoading(false);\n    });\n  }, []);\n  return {\n    loading,\n    caregivers,\n    error\n  };\n}","map":{"version":3,"sources":["/Users/xuexuxu/Desktop/info30005_front/src/api.js"],"names":["useState","useEffect","BASE_URL","loginCheck","username","password","alert","endpoint","fetch","method","headers","body","JSON","stringify","then","res","ok","window","sessionStorage","setItem","location","assign","signupCheck","confirmed_password","value","href","updateUser","user","getUser","console","log","json","useUser","loading","setLoading","setUser","error","setError","catch","e","getCaregivers","addCaregiver","caregiver","first_name","last_name","gender","introduction","updateCaregiver","deleteCaregiver","useCaregivers","caregivers","setCaregivers"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\n\n// TODO - update this to be your url\nconst BASE_URL = \"https://healthnextdoortest.herokuapp.com\";\n\n/*login check used to validate the input with data from the database and let the user log in*/\nexport function loginCheck(username, password) {\n\n  if (!username) {\n    alert(\"must include a username\");\n    return;\n  }\n  if (!password) {\n    alert(\"must include password\");\n    return;\n  }\n\n  const endpoint = BASE_URL + `/login`;\n  // return fetch query to update an author\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(res =>{\n    if(res.ok){\n      window.sessionStorage.setItem(\"username\",username);\n      window.location.assign(`user-management/${username}`)\n    }\n    else{\n      alert(\"wrong password or username\");\n    }\n  });\n}\n\n/*sign up check used to validate the input and let the user sign up*/\nexport function signupCheck(username, password, confirmed_password) {\n\n  if (username.value) {\n    alert(\"please input a username!\");\n  } else if (password.value) {\n    alert(\"please input a password!\");\n  } else if (confirmed_password.value) {\n    alert(\"please confirm your password!\");\n  } else if (password.value !== confirmed_password.value) {\n    alert(\"password and confirmed password does not match\");\n  }\n\n  const endpoint = BASE_URL + `/signup`;\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(res =>{\n    if(res.ok){\n      window.sessionStorage.setItem(\"username\",username);\n      window.location.href = `user-management/${username}`;\n    }\n    else{\n      alert(\"This username has already been taken!\");\n      window.location.href = `SignUp/`;\n    }\n  });\n\n}\n\nexport function updateUser(user) {\n  const { username, password} = user;\n  if (!password) {\n    alert(\"must include a password\");\n    return;\n  }\n  const endpoint = BASE_URL + `/login/${username}`;\n// return fetch query\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  //.then(res => location.reload());\n}\n\n\nexport function getUser() {\n  const endpoint = BASE_URL + `/login`;\n  return fetch(endpoint).then(res => {\n    console.log(res);\n    return res.json();\n  });\n}\n\nexport function useUser() {\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    getUser()\n        .then(user => {\n          setUser(user);\n          setLoading(false);\n        })\n        .catch(e => {\n          console.log(e);\n          setError(e);\n          setLoading(false);\n        });\n  }, []);\n\n  return {\n    loading,\n    user,\n    error\n  };\n}\nfunction getCaregivers() {\n  const endpoint = BASE_URL + `/findCaregiver`;\n\n  // TODO\n  // return fetch call that gets caregivers list\n  return fetch(endpoint).then(res => {\n    console.log(res);\n    return res.json();\n  });\n}\n/*addCaregiver used to let user to make a post*/\nexport function addCaregiver(caregiver) {\n  const { first_name, last_name, gender, introduction, username } = caregiver;\n  if ( !gender|| !first_name || !last_name || !introduction || !username) {\n    alert(\"must include all fields\");\n    return;\n  }\n\n  const endpoint = BASE_URL + `/findCaregiver/`;\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      first_name,\n      last_name,\n      gender,\n      introduction,\n      username\n    })\n  }).then(res =>{\n    if(res.ok){\n      window.location.href = `user-management/${username}`;\n    }\n    else{\n      alert(\"You already have a post, please update or delete the existed post in user home page!\");\n    }\n  });\n}\n/*updataeCarever used to let user to update post*/\nexport function updateCaregiver(caregiver) {\n  const { first_name, last_name, gender, introduction, username } = caregiver;\n  if (!username) {\n    alert(\"must include a username\");\n    return;\n  }\n  if (!first_name || !last_name) {\n    alert(\"must include a first name or last name to update\");\n    return;\n  }\n  if (!gender){\n    alert(\"must include gender\");\n    return;\n  }\n  if (!introduction){\n    alert(\"must include an introduction\");\n    return;\n  }\n\n  const endpoint = BASE_URL + `/findCaregiver/${username}`;\n\n  // return fetch query to update an author\n  return fetch(endpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      first_name,\n      last_name,\n      gender,\n      introduction,\n      username\n    })\n  });\n\n}\n\nexport function deleteCaregiver(username) {\n  const endpoint = BASE_URL + `/findCaregiver/${username}`;\n  return fetch(endpoint, {\n    method: \"DELETE\",\n  });\n}\n\nexport function useCaregivers() {\n  const [loading, setLoading] = useState(true);\n  const [caregivers, setCaregivers] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    getCaregivers()\n        .then(caregivers => {\n          setCaregivers(caregivers);\n          setLoading(false);\n        })\n        .catch(e => {\n          console.log(e);\n          setError(e);\n          setLoading(false);\n        });\n  }, []);\n\n  return {\n    loading,\n    caregivers,\n    error\n  };\n}\n\n"]},"metadata":{},"sourceType":"module"}