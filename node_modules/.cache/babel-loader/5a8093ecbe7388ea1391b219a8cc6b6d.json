{"ast":null,"code":"import _slicedToArray from \"/Users/xuexuxu/Desktop/info30005_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/xuexuxu/Desktop/info30005_front/src/pages/User.js\";\nimport React, { useState } from \"react\";\nimport { updatePatient, deletePatient, updateUser, useCaregivers, usePatients, useUser } from \"../api\";\nimport Button from \"../components/Button\";\nimport { Caregiver } from \"./Caregivers\";\nimport Loading from \"../components/Loading\";\nimport ToList from \"../pages/ToList\";\n/*user home page*/\n\nexport default function Users() {\n  var _this = this;\n\n  var _useCaregivers = useCaregivers(),\n      loading = _useCaregivers.loading,\n      caregivers = _useCaregivers.caregivers,\n      error = _useCaregivers.error;\n\n  var _usePatients = usePatients(),\n      loading_p = _usePatients.loading_p,\n      patients = _usePatients.patients,\n      error_p = _usePatients.error_p;\n\n  var _useUser = useUser(),\n      loadings = _useUser.loadings,\n      user = _useUser.user,\n      errors = _useUser.errors;\n\n  if (loading || loading_p) {\n    return Loading();\n  }\n\n  if (error || error_p) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  if (loadings) {\n    return Loading();\n  }\n\n  if (errors) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  var username;\n  username = window.location.pathname;\n  var index;\n  index = username.lastIndexOf('/');\n  var name;\n  name = username.slice(index + 1);\n  console.log(name);\n  var match;\n  var userIdentity = undefined;\n  user.map(function (singleuser) {\n    if (singleuser.username === name) {\n      userIdentity = singleuser.identity;\n    }\n  });\n\n  if (userIdentity === \"caregiver\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, \"Welcome, \", window.sessionStorage.getItem(\"username\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"htwo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, \"Posting Record\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tryy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, caregivers.map(function (caregiver) {\n      if (caregiver.username === name) {\n        return /*#__PURE__*/React.createElement(Caregiver, Object.assign({\n          key: caregiver.username\n        }, caregiver, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 35\n          }\n        }));\n      }\n    })), user.map(function (used) {\n      if (used.username === name) {\n        match = used;\n      }\n    }), /*#__PURE__*/React.createElement(User, Object.assign({\n      id: \"user_h2\"\n    }, match, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Welcome, \", window.sessionStorage.getItem(\"username\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"htwo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, \"Posting Record\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tryy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, patients.map(function (patient) {\n      if (patient.username === name) {\n        return /*#__PURE__*/React.createElement(Patient, Object.assign({\n          key: patient.username\n        }, patient, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 36\n          }\n        }));\n      }\n    })), user.map(function (used) {\n      if (used.username === name) {\n        match = used;\n      }\n    }), /*#__PURE__*/React.createElement(User, Object.assign({\n      id: \"user_h2\"\n    }, match, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    })));\n  }\n}\n/*log out and redirect to home page*/\n\nexport function Logout() {\n  window.sessionStorage.removeItem(\"username\");\n  window.location.assign('http://localhost:3000');\n}\n/*reset password*/\n\nfunction User(user) {\n  var username = user.username,\n      password = user.password;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user user-\".concat(username),\n    key: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"btn-resetpassword\",\n    onClick: toReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"btn-toList\",\n    onClick: function onClick() {\n      return toList(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"List\")));\n}\n\nexport function UserExtended() {\n  function onSubmit() {\n    var username = window.sessionStorage.getItem(\"username\");\n    var confirmed_password = document.getElementById(\"confirmed_password\");\n    var password = document.getElementById(\"password\");\n\n    if (confirmed_password.value !== password.value) {\n      alert(\"password and confirmed password does not match\");\n    } else {\n      updateUser({\n        username: username,\n        password: password.value\n      });\n      window.location.assign(\"http://localhost:3000/user-management/\".concat(window.sessionStorage.getItem(\"username\")));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset_box\",\n    className: \"login_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    placeholder: \"Password\",\n    className: \"text_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"confirmed_password\",\n    placeholder: \"Confirm password\",\n    className: \"text_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"reset_but\",\n    className: \"login_button\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"Update\")));\n}\n/*export function UserExtendedList() {\n\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n\n            updateUserList({\n                username: username,\n\n\n            });\n            window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n\n    }\n\n    return (\n        <div>\n\n        </div>\n    );\n}\n*/\n\nfunction toReset() {\n  window.location.assign(\"http://localhost:3000/resetPassword\");\n}\n\nfunction toList(user) {\n  console.log(user);\n  var string_type = JSON.stringify(user);\n  sessionStorage.setItem(\"listing\", string_type);\n  window.location.assign(\"http://localhost:3000/toList/\".concat(window.sessionStorage.getItem(\"username\")));\n  /*return(\n      <div>\n          <ToList {...user}/>\n      </div>\n   );*/\n}\n\nfunction toPatient() {\n  window.location.assign(\"http://localhost:3000/toPatient\");\n} //==========================================================================================================================\n\n\nexport function Patient(patient) {\n  var first_name = patient.first_name,\n      last_name = patient.last_name,\n      gender = patient.gender,\n      introduction = patient.introduction,\n      username = patient.username,\n      age = patient.age,\n      address = patient.address,\n      contact_information = patient.contact_information;\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showUpdate = _useState4[0],\n      setShowUpdate = _useState4[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caregiver caregiver-\".concat(username),\n    key: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, \"Username: \", username), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, \"First_name: \", first_name), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, \"Last_name: \", last_name), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, \"Gender: \", gender), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, \"Age: \", age), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    onClick: function onClick() {\n      return setShowUpdate(!showUpdate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, showUpdate ? \"-\" : \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"list_front\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PatientExtended, Object.assign({}, patient, {\n    showUpdate: showUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }))));\n}\n\nfunction PatientExtended(props) {\n  var first_name = props.first_name,\n      last_name = props.last_name,\n      gender = props.gender,\n      introduction = props.introduction,\n      username = props.username,\n      age = props.age,\n      address = props.address,\n      showUpdate = props.showUpdate,\n      contact_information = props.contact_information;\n\n  var _useState5 = useState(first_name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      first_input = _useState6[0],\n      setFirstName = _useState6[1];\n\n  var _useState7 = useState(last_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      last_input = _useState8[0],\n      setLastName = _useState8[1];\n\n  var _useState9 = useState(gender),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gender_input = _useState10[0],\n      setGender = _useState10[1];\n\n  var _useState11 = useState(introduction),\n      _useState12 = _slicedToArray(_useState11, 2),\n      introduction_input = _useState12[0],\n      setIntroduction = _useState12[1];\n\n  var _useState13 = useState(age),\n      _useState14 = _slicedToArray(_useState13, 2),\n      age_input = _useState14[0],\n      setAge = _useState14[1];\n\n  var _useState15 = useState(address),\n      _useState16 = _slicedToArray(_useState15, 2),\n      address_input = _useState16[0],\n      setAddress = _useState16[1];\n\n  var _useState17 = useState(contact_information),\n      _useState18 = _slicedToArray(_useState17, 2),\n      contact_input = _useState18[0],\n      setContact_information = _useState18[1];\n\n  function onSubmit() {\n    // call upate caregiver function\n    console.log(contact_input);\n    updatePatient({\n      first_name: first_input,\n      last_name: last_input,\n      gender: gender_input,\n      introduction: introduction_input,\n      username: username,\n      age: age_input,\n      address: address_input,\n      contact_information: contact_input\n    });\n    window.location.assign(\"http://localhost:3000/user-management/\".concat(window.sessionStorage.getItem(\"username\")));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caregiver-expand \".concat(showUpdate ? \"show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"caregiver-expand-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"first name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"first_name\",\n    value: first_input,\n    onChange: function onChange(event) {\n      setFirstName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 21\n    }\n  }, \"last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"last_name\",\n    value: last_input,\n    onChange: function onChange(event) {\n      setLastName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 21\n    }\n  }, \"gender\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"gender\",\n    value: gender_input,\n    onChange: function onChange(event) {\n      setGender(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, \"introduction\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"introduction\",\n    value: introduction_input,\n    onChange: function onChange(event) {\n      setIntroduction(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }, \"age\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"age\",\n    value: age_input,\n    onChange: function onChange(event) {\n      setAge(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, \"address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"introduction\",\n    value: address_input,\n    onChange: function onChange(event) {\n      setAddress(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"update_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  }, \"contact information\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"contact_information\",\n    value: contact_input,\n    onChange: function onChange(event) {\n      setContact_information(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-danger\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-danger\",\n    onClick: function onClick() {\n      return deletePatient(username);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"caregiver-expand-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 20\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/xuexuxu/Desktop/info30005_front/src/pages/User.js"],"names":["React","useState","updatePatient","deletePatient","updateUser","useCaregivers","usePatients","useUser","Button","Caregiver","Loading","ToList","Users","loading","caregivers","error","loading_p","patients","error_p","loadings","user","errors","message","username","window","location","pathname","index","lastIndexOf","name","slice","console","log","match","userIdentity","undefined","map","singleuser","identity","sessionStorage","getItem","caregiver","used","patient","Logout","removeItem","assign","User","password","showUpdate","setShowUpdate","toReset","toList","UserExtended","onSubmit","confirmed_password","document","getElementById","value","alert","string_type","JSON","stringify","setItem","toPatient","Patient","first_name","last_name","gender","introduction","age","address","contact_information","PatientExtended","props","first_input","setFirstName","last_input","setLastName","gender_input","setGender","introduction_input","setIntroduction","age_input","setAge","address_input","setAddress","contact_input","setContact_information","event","target"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {updatePatient, deletePatient, updateUser, useCaregivers, usePatients, useUser} from \"../api\";\nimport Button from \"../components/Button\";\nimport {Caregiver} from \"./Caregivers\";\nimport Loading from \"../components/Loading\";\nimport ToList from \"../pages/ToList\"\n/*user home page*/\nexport default function Users() {\n    const { loading, caregivers, error } = useCaregivers();\n    const { loading_p, patients, error_p} = usePatients();\n    const { loadings, user, errors } = useUser();\n    if (loading || loading_p) {\n        return Loading();\n    }\n    if (error || error_p) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    if (loadings) {\n        return Loading();\n    }\n    if (errors) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    let username;\n    username = window.location.pathname;\n    let index;\n    index = username.lastIndexOf('/');\n    let name;\n    name = username.slice(index+1);\n    console.log(name);\n    let match;\n    var userIdentity = undefined;\n    user.map(singleuser => {\n        if (singleuser.username === name){\n            userIdentity = singleuser.identity;\n    }});\n    if (userIdentity === \"caregiver\"){\n        return (\n            <div>\n                <h1>Welcome, {window.sessionStorage.getItem(\"username\")}</h1>\n                <div id={\"htwo\"}>\n                    <h2>Posting Record</h2>\n                </div>\n\n                <div id={\"tryy\"}>\n                    {caregivers.map(caregiver =>{\n                        if(caregiver.username===name){\n                           return <Caregiver key={caregiver.username} {...caregiver} />\n                        }\n                    })}\n\n                </div>\n                {user.map(used =>{\n                    if(used.username===name){\n                        match = used;\n                    }\n                })}\n                <User id={\"user_h2\"} {...match} />\n            </div>\n        );\n    } else {\n        return (\n            <div>\n                <h1>Welcome, {window.sessionStorage.getItem(\"username\")}</h1>\n                <div id={\"htwo\"}>\n                    <h2>Posting Record</h2>\n                </div>\n\n                <div id={\"tryy\"}>\n                    {patients.map(patient =>{\n                        if(patient.username===name){\n                            return <Patient key={patient.username} {...patient} />\n                        }\n                    })}\n\n                </div>\n                {user.map(used =>{\n                    if(used.username===name){\n                        match = used;\n                    }\n                })}\n                <User id={\"user_h2\"} {...match} />\n            </div>\n        );\n    }\n}\n\n/*log out and redirect to home page*/\nexport function Logout(){\n    window.sessionStorage.removeItem(\"username\");\n    window.location.assign('http://localhost:3000')\n}\n\n/*reset password*/\nfunction User(user) {\n    const {username, password} = user;\n    const [showUpdate, setShowUpdate] = useState(false);\n\n    return (\n        <div className={`user user-${username}`} key={username}>\n            <div id={\"reset\"}>\n                <Button id={\"btn-resetpassword\"} onClick={toReset}>\n                    Reset Password\n                </Button>\n\n                <Button id={\"btn-toList\"} onClick={() => toList(user)}>\n                List\n                </Button>\n            </div>\n\n            </div>\n\n\n    );\n}\n\nexport function UserExtended() {\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n        var confirmed_password = document.getElementById(\"confirmed_password\");\n        var password = document.getElementById(\"password\");\n        if(confirmed_password.value !== password.value){\n            alert(\"password and confirmed password does not match\");\n        }else{\n            updateUser({\n                username: username,\n                password: password.value,\n            });\n            window.location.assign(`http://localhost:3000/user-management/${window.sessionStorage.getItem(\"username\")}`)\n        }\n    }\n\n    return (\n            <div id={\"reset_box\"} className={\"login_box\"}>\n                <div id=\"reset_info\">\n                    <div>\n                        <input type=\"password\" id=\"password\" placeholder=\"Password\" className=\"text_field\"/>\n                    </div>\n                    <div>\n                        <input type=\"password\" id=\"confirmed_password\" placeholder=\"Confirm password\"className=\"text_field\"/>\n                    </div>\n                </div>\n                <div>\n                    <Button id={\"reset_but\"} className={\"login_button\"} onClick={onSubmit}>\n                        Update\n                    </Button>\n                </div>\n            </div>\n    );\n}\n\n/*export function UserExtendedList() {\n\n    function onSubmit() {\n        var username = window.sessionStorage.getItem(\"username\");\n\n            updateUserList({\n                username: username,\n\n\n            });\n            window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n\n    }\n\n    return (\n        <div>\n\n        </div>\n    );\n}\n*/\nfunction toReset() {\n    window.location.assign(\"http://localhost:3000/resetPassword\")\n}\n\nfunction toList(user){\n    console.log(user);\n    var string_type = JSON.stringify(user);\n    sessionStorage.setItem(\"listing\",string_type);\n    window.location.assign(`http://localhost:3000/toList/${window.sessionStorage.getItem(\"username\")}`)\n    /*return(\n        <div>\n            <ToList {...user}/>\n        </div>\n\n    );*/\n}\nfunction toPatient(){\n    window.location.assign(\"http://localhost:3000/toPatient\")\n\n}\n\n//==========================================================================================================================\nexport function Patient(patient) {\n    const { first_name, last_name, gender, introduction, username, age, address, contact_information} = patient;\n    const [showUpdate, setShowUpdate] = useState(false);\n\n    return (\n        <div className={`caregiver caregiver-${username}`} key={username}>\n            <div className=\"info\">\n                <div id=\"txt\">Username: {username}</div>\n                <div id=\"txt\">First_name: {first_name}</div>\n                <div id=\"txt\">Last_name: {last_name}</div>\n                <div id=\"txt\">Gender: {gender}</div>\n\n                <div id=\"txt\">Age: {age}</div>\n\n\n\n                <Button className={\"btn\"} onClick={() => setShowUpdate(!showUpdate)}>\n                    {showUpdate ? \"-\" : \"+\"}\n                </Button>\n            </div>\n            <div id={\"list_front\"}>\n                <PatientExtended {...patient} showUpdate={showUpdate} />\n            </div>\n        </div>\n    );\n}\n\nfunction PatientExtended(props) {\n    const { first_name, last_name, gender, introduction, username, age, address,showUpdate,\n        contact_information} = props;\n    const [first_input, setFirstName] = useState(first_name);\n    const [last_input, setLastName] = useState(last_name);\n    const [gender_input, setGender] = useState(gender);\n    const [introduction_input,setIntroduction] = useState(introduction);\n    const [age_input,setAge] = useState(age);\n    const [address_input,setAddress] = useState(address);\n    const [contact_input,setContact_information] = useState(contact_information);\n    function onSubmit() {\n        // call upate caregiver function\n        console.log(contact_input);\n        updatePatient({\n            first_name: first_input,\n            last_name: last_input,\n            gender: gender_input,\n            introduction: introduction_input,\n            username: username,\n            age: age_input,\n            address: address_input,\n            contact_information: contact_input,\n        });\n        window.location.assign(`http://localhost:3000/user-management/${window.sessionStorage.getItem(\"username\")}`)\n    }\n\n    return (\n\n        <div className={`caregiver-expand ${showUpdate ? \"show\" : \"\"}`}>\n            <form className={\"caregiver-expand-left\"}>\n                {/* TODO - add value and onChange properties to inputs */}\n                <p>\n                    <label className=\"update_input\">first name</label>\n                    <input type=\"text\" name=\"first_name\" value = {first_input} onChange={event => {setFirstName(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">last name</label>\n                    <input type=\"text\" name=\"last_name\" value = {last_input} onChange={event => {setLastName(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">gender</label>\n                    <input type=\"text\" name=\"gender\" value = {gender_input} onChange={event => {setGender(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">introduction</label>\n                    <input type=\"text\" name=\"introduction\" value = {introduction_input} onChange={event => {setIntroduction(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">age</label>\n                    <input type=\"text\" name=\"age\" value = {age_input} onChange={event => {setAge(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">address</label>\n                    <input type=\"text\" name=\"introduction\" value = {address_input} onChange={event => {setAddress(event.target.value);}}/>\n                </p>\n                <p>\n                    <label className=\"update_input\">contact information</label>\n                    <input type=\"text\" name=\"contact_information\" value = {contact_input} onChange={event => {setContact_information(event.target.value);}}/>\n                </p>\n\n                <Button className={\"btn-danger\"} onClick={onSubmit}>\n                    Update\n                </Button>\n\n                <Button className={\"btn-danger\"} onClick={() => deletePatient(username)}>\n                    Delete\n                </Button>\n            </form><form className={\"caregiver-expand-right\"}></form>\n\n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}