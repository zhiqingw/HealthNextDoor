{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\wuzhiqing\\\\Desktop\\\\mylibraryapp-frontend-starter (5)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\"; // TODO - update this to be your url\n\nvar BASE_URL = \"https://http://mylibraryapp956895.herokuapp.com/\";\n\nfunction getAuthors() {\n  var endpoint = BASE_URL + \"/author-management\"; // TODO\n  // return fetch call that gets author list\n}\n\nexport function getAuthor(id) {\n  var endpoint = BASE_URL + \"/author-management/\".concat(id); // TODO\n  // return fetch statement to get an author by the id\n}\nexport function addAuthor(author) {\n  var id = author.id,\n      first_name = author.first_name,\n      last_name = author.last_name;\n\n  if (!id || !first_name || !last_name) {\n    alert(\"must include all fields\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/author-management/\"; // TODO\n  // return fetch statement to add an author\n}\nexport function updateAuthor(author) {\n  var id = author.id,\n      first_name = author.first_name,\n      last_name = author.last_name;\n\n  if (!id) {\n    alert(\"must include an id\");\n    return;\n  }\n\n  if (!first_name || !last_name) {\n    alert(\"must include a first name or last name to update\");\n    return;\n  }\n\n  var endpoint = BASE_URL + \"/author-management/\".concat(id); // return fetch query to update an author\n}\nexport function deleteAuthor(id) {\n  var endpoint = BASE_URL + \"/author-management/\".concat(id); // return fetch query\n}\nexport function useAuthors() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      authors = _useState4[0],\n      setAuthors = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    getAuthors().then(function (authors) {\n      setAuthors(authors);\n      setLoading(false);\n    }).catch(function (e) {\n      console.log(e);\n      setError(e);\n      setLoading(false);\n    });\n  }, []);\n  return {\n    loading,\n    authors,\n    error\n  };\n}","map":{"version":3,"sources":["C:/Users/wuzhiqing/Desktop/mylibraryapp-frontend-starter (5)/src/api.js"],"names":["useState","useEffect","BASE_URL","getAuthors","endpoint","getAuthor","id","addAuthor","author","first_name","last_name","alert","updateAuthor","deleteAuthor","useAuthors","loading","setLoading","authors","setAuthors","error","setError","then","catch","e","console","log"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAEA;;AACA,IAAMC,QAAQ,GAAG,kDAAjB;;AAEA,SAASC,UAAT,GAAsB;AACpB,MAAMC,QAAQ,GAAGF,QAAQ,uBAAzB,CADoB,CAGpB;AACA;AACD;;AAED,OAAO,SAASG,SAAT,CAAmBC,EAAnB,EAAuB;AAC5B,MAAMF,QAAQ,GAAGF,QAAQ,gCAAyBI,EAAzB,CAAzB,CAD4B,CAG5B;AACA;AACD;AAED,OAAO,SAASC,SAAT,CAAmBC,MAAnB,EAA2B;AAAA,MACxBF,EADwB,GACME,MADN,CACxBF,EADwB;AAAA,MACpBG,UADoB,GACMD,MADN,CACpBC,UADoB;AAAA,MACRC,SADQ,GACMF,MADN,CACRE,SADQ;;AAEhC,MAAI,CAACJ,EAAD,IAAO,CAACG,UAAR,IAAsB,CAACC,SAA3B,EAAsC;AACpCC,IAAAA,KAAK,CAAC,yBAAD,CAAL;AACA;AACD;;AAED,MAAMP,QAAQ,GAAGF,QAAQ,wBAAzB,CAPgC,CAShC;AACA;AACD;AAED,OAAO,SAASU,YAAT,CAAsBJ,MAAtB,EAA8B;AAAA,MAC3BF,EAD2B,GACGE,MADH,CAC3BF,EAD2B;AAAA,MACvBG,UADuB,GACGD,MADH,CACvBC,UADuB;AAAA,MACXC,SADW,GACGF,MADH,CACXE,SADW;;AAEnC,MAAI,CAACJ,EAAL,EAAS;AACPK,IAAAA,KAAK,CAAC,oBAAD,CAAL;AACA;AACD;;AACD,MAAI,CAACF,UAAD,IAAe,CAACC,SAApB,EAA+B;AAC7BC,IAAAA,KAAK,CAAC,kDAAD,CAAL;AACA;AACD;;AAED,MAAMP,QAAQ,GAAGF,QAAQ,gCAAyBI,EAAzB,CAAzB,CAXmC,CAanC;AACD;AAED,OAAO,SAASO,YAAT,CAAsBP,EAAtB,EAA0B;AAC/B,MAAMF,QAAQ,GAAGF,QAAQ,gCAAyBI,EAAzB,CAAzB,CAD+B,CAG/B;AACD;AAED,OAAO,SAASQ,UAAT,GAAsB;AAAA,kBACGd,QAAQ,CAAC,IAAD,CADX;AAAA;AAAA,MACpBe,OADoB;AAAA,MACXC,UADW;;AAAA,mBAEGhB,QAAQ,CAAC,EAAD,CAFX;AAAA;AAAA,MAEpBiB,OAFoB;AAAA,MAEXC,UAFW;;AAAA,mBAGDlB,QAAQ,CAAC,IAAD,CAHP;AAAA;AAAA,MAGpBmB,KAHoB;AAAA,MAGbC,QAHa;;AAK3BnB,EAAAA,SAAS,CAAC,YAAM;AACdE,IAAAA,UAAU,GACPkB,IADH,CACQ,UAAAJ,OAAO,EAAI;AACfC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACAD,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJH,EAKGM,KALH,CAKS,UAAAC,CAAC,EAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAH,MAAAA,QAAQ,CAACG,CAAD,CAAR;AACAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KATH;AAUD,GAXQ,EAWN,EAXM,CAAT;AAaA,SAAO;AACLD,IAAAA,OADK;AAELE,IAAAA,OAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD","sourcesContent":["import { useState, useEffect } from \"react\";\n\n// TODO - update this to be your url\nconst BASE_URL = \"https://http://mylibraryapp956895.herokuapp.com/\";\n\nfunction getAuthors() {\n  const endpoint = BASE_URL + `/author-management`;\n\n  // TODO\n  // return fetch call that gets author list\n}\n\nexport function getAuthor(id) {\n  const endpoint = BASE_URL + `/author-management/${id}`;\n\n  // TODO\n  // return fetch statement to get an author by the id\n}\n\nexport function addAuthor(author) {\n  const { id, first_name, last_name } = author;\n  if (!id || !first_name || !last_name) {\n    alert(\"must include all fields\");\n    return;\n  }\n\n  const endpoint = BASE_URL + `/author-management/`;\n\n  // TODO\n  // return fetch statement to add an author\n}\n\nexport function updateAuthor(author) {\n  const { id, first_name, last_name } = author;\n  if (!id) {\n    alert(\"must include an id\");\n    return;\n  }\n  if (!first_name || !last_name) {\n    alert(\"must include a first name or last name to update\");\n    return;\n  }\n\n  const endpoint = BASE_URL + `/author-management/${id}`;\n\n  // return fetch query to update an author\n}\n\nexport function deleteAuthor(id) {\n  const endpoint = BASE_URL + `/author-management/${id}`;\n\n  // return fetch query\n}\n\nexport function useAuthors() {\n  const [loading, setLoading] = useState(true);\n  const [authors, setAuthors] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    getAuthors()\n      .then(authors => {\n        setAuthors(authors);\n        setLoading(false);\n      })\n      .catch(e => {\n        console.log(e);\n        setError(e);\n        setLoading(false);\n      });\n  }, []);\n\n  return {\n    loading,\n    authors,\n    error\n  };\n}\n"]},"metadata":{},"sourceType":"module"}