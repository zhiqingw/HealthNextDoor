{"ast":null,"code":"import _slicedToArray from \"/Users/xuexuxu/Desktop/info30005_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/xuexuxu/Desktop/info30005_front/src/pages/User.js\";\nimport React, { useState } from \"react\";\nimport { updateUser, useCaregivers, useUser } from \"../api\";\nimport Button from \"../components/Button\";\nimport { Caregiver } from \"./Caregivers\";\nexport default function Users() {\n  var _this = this;\n\n  var _useCaregivers = useCaregivers(),\n      loading = _useCaregivers.loading,\n      caregivers = _useCaregivers.caregivers,\n      error = _useCaregivers.error;\n\n  var _useUser = useUser(),\n      loadings = _useUser.loadings,\n      user = _useUser.user,\n      errors = _useUser.errors;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  }\n\n  if (loadings) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n\n  if (errors) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 16\n      }\n    }, \"Something went wrong: \", error.message);\n  } // use this to make sure you are getting the right data\n  // Display a list of the authors\n  // Display a list of the users\n\n\n  var username;\n  username = window.location.pathname;\n  var index;\n  index = username.lastIndexOf('/');\n  var name;\n  name = username.slice(index + 1);\n  var match;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Welcome, \", window.sessionStorage.getItem(\"username\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"htwo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Posting Record\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"tryy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, caregivers.map(function (caregiver) {\n    if (caregiver.username === name) {\n      return /*#__PURE__*/React.createElement(Caregiver, Object.assign({\n        key: caregiver.username\n      }, caregiver, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 32\n        }\n      }));\n    } else {\n      return;\n    }\n  })), user.map(function (used) {\n    if (used.username === name) {\n      match = used;\n    }\n  }), /*#__PURE__*/React.createElement(User, Object.assign({\n    id: \"user_h2\"\n  }, match, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })));\n}\nexport function Logout() {\n  window.sessionStorage.removeItem(\"username\");\n  window.location.assign('http://localhost:3000/');\n}\n\nfunction User(user) {\n  var username = user.username,\n      password = user.password;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user user-\".concat(username),\n    key: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    id: \"reset\",\n    onClick: function onClick() {\n      return setShowUpdate(!showUpdate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, showUpdate ? \"reset password\" : \"reset password\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserExtended, Object.assign({}, user, {\n    showUpdate: showUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }))));\n}\n\nfunction UserExtended(props) {\n  var username = props.username,\n      password = props.password,\n      showUpdate = props.showUpdate;\n\n  var _useState3 = useState(password),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password_input = _useState4[0],\n      setPassword = _useState4[1];\n\n  function onSubmit() {\n    var confirmed_password = document.getElementById(\"confirmed_password\");\n\n    if (confirmed_password.value !== password_input) {\n      alert(\"password and confirmed password does not match\");\n    } // call upate author function\n\n\n    updateUser({\n      username: username,\n      password: password_input\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-expand \".concat(showUpdate ? \"show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reset_box\",\n    className: \"login_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"label_input\",\n    className: \"login_button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password_input,\n    onChange: function onChange(event) {\n      setPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"label_input\",\n    className: \"login_button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"confirmed_password\",\n    className: \"text_field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-warning\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, \"Update\"))));\n}","map":{"version":3,"sources":["/Users/xuexuxu/Desktop/info30005_front/src/pages/User.js"],"names":["React","useState","updateUser","useCaregivers","useUser","Button","Caregiver","Users","loading","caregivers","error","loadings","user","errors","message","username","window","location","pathname","index","lastIndexOf","name","slice","match","sessionStorage","getItem","map","caregiver","used","Logout","removeItem","assign","User","password","showUpdate","setShowUpdate","UserExtended","props","password_input","setPassword","onSubmit","confirmed_password","document","getElementById","value","alert","event","target"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {updateUser, useCaregivers, useUser} from \"../api\";\nimport Button from \"../components/Button\";\nimport {Caregiver} from \"./Caregivers\";\n\nexport default function Users() {\n    const { loading, caregivers, error } = useCaregivers();\n    const { loadings, user, errors } = useUser();\n    if (loading) {\n        return <p>Loading...</p>;\n    }\n    if (error) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n    if (loadings) {\n        return <p>Loading...</p>;\n    }\n    if (errors) {\n        return <p>Something went wrong: {error.message}</p>;\n    }\n\n    // use this to make sure you are getting the right data\n    // Display a list of the authors\n\n    // Display a list of the users\n    let username;\n    username = window.location.pathname;\n    let index;\n    index = username.lastIndexOf('/');\n    let name;\n    name = username.slice(index+1);\n    let match;\n    return (\n        <div>\n            <h1>Welcome, {window.sessionStorage.getItem(\"username\")}</h1>\n\n\n            <div>\n                <h2 id={\"htwo\"}>Posting Record</h2>\n            </div>\n\n            <div id={\"tryy\"}>\n\n                {caregivers.map(caregiver =>{\n                    if(caregiver.username===name){\n                        return <Caregiver key={caregiver.username} {...caregiver} />\n                    }\n                    else{\n                        return\n                    }\n                })}\n            </div>\n            {user.map(used =>{\n                if(used.username===name){\n                    match = used;\n                }\n            })}\n            <User id={\"user_h2\"} {...match} />\n\n\n        </div>\n    );\n}\nexport function Logout(){\n    window.sessionStorage.removeItem(\"username\");\n    window.location.assign('http://localhost:3000/')\n\n}\n\nfunction User(user) {\n    const {username, password} = user;\n    const [showUpdate, setShowUpdate] = useState(false);\n\n    return (\n        <div className={`user user-${username}`} key={username}>\n\n\n            <div>\n                <Button className={\"btn\"} id={\"reset\"} onClick={() => setShowUpdate(!showUpdate)}>\n                    {showUpdate ? \"reset password\" : \"reset password\"}\n                </Button>\n            </div>\n\n            <div className={\"posts\"}>\n                <UserExtended {...user} showUpdate={showUpdate} />\n            </div>\n        </div>\n    );\n}\n\nfunction UserExtended(props) {\n    const { username, password, showUpdate} = props;\n\n    const [password_input, setPassword] = useState(password);\n\n\n    function onSubmit() {\n        var confirmed_password = document.getElementById(\"confirmed_password\");\n        if(confirmed_password.value !== password_input){\n            alert(\"password and confirmed password does not match\");\n        }\n        // call upate author function\n        updateUser({\n            username: username,\n            password: password_input\n        });\n    }\n\n    return (\n        <div className={`user-expand ${showUpdate ? \"show\" : \"\"}`}>\n            <div id={\"reset_box\"} className={\"login_box\"}>\n                {/* TODO - add value and onChange properties to inputs */}\n                <div>\n                    <label id=\"label_input\" className={\"login_button\"}>Password</label>\n                    <input type=\"password\" name=\"password\" value={password_input} onChange = {event => {setPassword(event.target.value)}} />\n                </div>\n                <div>\n                    <label id=\"label_input\" className={\"login_button\"}>Confirm Password</label>\n                    <input type=\"password\" id=\"confirmed_password\" className=\"text_field\"/>\n                </div>\n                <div>\n                    <Button className={\"btn-warning\"} onClick={onSubmit}>\n                        Update\n                    </Button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}